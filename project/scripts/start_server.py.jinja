#!/usr/bin/env python3
"""Uvicorn server startup script that uses application settings.

This script reads configuration from environment variables and .env files
through the application's settings system and starts the uvicorn server
with the appropriate parameters.

Designed to run inside a Docker container where the venv python is on PATH.
No uv run or sys.path manipulation needed.
"""

import uvicorn

from {{ project_slug }}.api.settings import get_settings


def main() -> None:
    """Start the uvicorn server with settings-based configuration."""
    settings = get_settings()

    uvicorn.run(
        '{{ project_slug }}.app:create_app',
        factory=True,
        host=settings.api_host,
        port=settings.api_port,
        workers=settings.max_workers,
        log_level=settings.log_level.lower(),
        reload=False,
        access_log=True,
    )


if __name__ == '__main__':
    main()
